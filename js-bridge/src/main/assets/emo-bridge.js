!function(){"use strict";window.EmoBridge||(window.EmoBridge=function(e){var n=function(e){var n=e.createElement("iframe");return n.style.display="none",e.documentElement.appendChild(n),n}(e),t={},i=1;function a(e,a,c,u){if(!e)throw new Error("message == null");var d={data:e};if(a){var o="cb_"+i++,r={callback:a};t[o]=r,d.callbackId=o,"number"==typeof c&&c>0&&(r.timeoutId=setTimeout((function(){delete t[o],"function"==typeof u&&u()}),c))}sendingMessageQueue.push(d),n.src="emo://__QUEUE_MSG__/"}function c(e){c.__cache?e(c.__cache):a({__cmd__:"getSupportedCmdList"},(function(n){c.__cache=n,e(n)}))}var u={send:a,isCmdSupport:function(e,n){c((function(t){n(t.indexOf(e))}))},getSupportedCmdList:c,_fetchQueueFromNative:function(){var e=JSON.stringify(sendingMessageQueue);return sendingMessageQueue=[],e},_handleResponseFromNative:function(e){if(e&&e.callbackId){var n=t[e.callbackId];n&&(n.timeoutId&&clearTimeout(n.timeoutId),n.callback(e.data),delete t[e.callbackId])}}},d=new Event("EmoBridgeReady");return d.bridge=u,e.dispatchEvent(d),u}(document))}();
